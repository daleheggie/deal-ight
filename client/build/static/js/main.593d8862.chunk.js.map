{"version":3,"sources":["utils/_globals.js","components/LoginForm/LoginForm.jsx","components/SignupForm/SignupForm.jsx","components/LandingBanner/LandingBanner.jsx","components/Footer/Footer.jsx","pages/LandingPage/LandingPage.jsx","utils/addToFavourites.js","components/DailyCard/DailyCard.jsx","components/WeeklyList/WeeklyList.jsx","components/FavouritePlacesList/FavouritePlacesList.jsx","utils/removeFromFavourites.js","utils/parseDays.js","components/FavouriteDealsList/FavouriteDealsList.jsx","pages/UserPage/UserPage.jsx","components/PlacesList/PlacesList.jsx","pages/PlacesPage/PlacesPage.jsx","components/DealsList/DealsList.jsx","utils/deleteDeal.js","components/BusinessHeader/BusinessHeader.jsx","components/AddDealForm/AddDealForm.jsx","components/BusinessDashboard/BusinessDashboard.jsx","pages/BusinessPage/BusinessPage.jsx","pages/DealsPage/DealsPage.jsx","components/Header/Header.jsx","App.js","index.js"],"names":["API_URL","LoginForm","state","username","password","error","isError","handleSubmit","e","preventDefault","userInfo","setState","axios","post","then","res","data","token","sessionStorage","setItem","props","handleLogin","message","catch","err","console","log","handleChange","event","target","name","value","className","id","onSubmit","this","type","placeholder","onChange","autoFocus","form","onClick","handleShowSignup","Component","SignupForm","confirmPassword","errorMessage","length","get","handleClearSignup","to","handleReturnToLogin","LandingBanner","Footer","src","alt","href","LandingPage","showSignup","addToFavouriteDeals","deal_id","headers","Authorization","getItem","DailyCard","today","React","useState","deals","setDeals","useEffect","map","deal","details","WeeklyList","days","computedWeek","i","push","getDay","day","FavouritePlacesList","places","setPlaces","place","place_id","delete","parseDays","split","join","FavouriteDealsList","setFavouriteDeals","establishment_id","UserPage","user","favouriteDeals","deal_ids","handleLogout","Date","PlacesList","cuisine","PlacesPage","DealsList","removeButton","filter","BusinessHeader","establishment","headerStyle","backgroundImage","header_path","backgroundSize","backgroundPosition","style","phone","address","menu","AddDealForm","sunday","checked","monday","tuesday","wednesday","thursday","friday","saturday","until","handleSubmitDeal","resize","description","for","handleCancel","BusinessDashboard","showAddDeal","handleAddDeal","BusinessPage","privateView","match","params","owner_id","DealsPage","Header","exact","isActive","App","isLoggedIn","removeItem","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.593d8862.chunk.js","sourcesContent":["export const API_URL = process.env.NODE_ENV === 'production'\r\n                        ? 'https://deal-ite.herokuapp.com'\r\n                        : `http://localhost:5001`","import { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../../utils/_globals';\r\nimport './LoginForm.scss';\r\n\r\nclass LoginForm extends Component {\r\n\r\n    state = {\r\n        username: '',\r\n        password: '',\r\n        error: '',\r\n        isError: false\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let userInfo = {\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }\r\n        this.setState({password: ''})\r\n        \r\n        axios\r\n            .post(`${API_URL}/login`, userInfo)\r\n            .then(res => {\r\n                if (!res.data.token) {\r\n                    this.setState({error: res.data.message, isError: true})\r\n                }\r\n                else{\r\n                    sessionStorage.setItem('token', res.data.token)\r\n                    this.props.handleLogin()\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log()\r\n            })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <section className='login'>\r\n                <form id='login-form' className='login__form' onSubmit={this.handleSubmit}>\r\n                    <input type='text' \r\n                            name='username' \r\n                            placeholder='Username' \r\n                            value={this.state.username}\r\n                            onChange={this.handleChange}\r\n                            className='login__input'\r\n                            autoFocus></input>\r\n                    <input type='password' \r\n                            name='password' \r\n                            placeholder='<password>' \r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                            className='login__input'></input>\r\n                </form>\r\n                {this.state.isError ? <p>{this.state.error}</p> : <></>}\r\n                <div className='login__button-container'>\r\n                    <button className='login__log-button' type='submit' form='login-form'>Log In</button>\r\n                    <button className='login__signup-button' onClick={this.props.handleShowSignup}>Register Here</button>\r\n                </div>\r\n            </section>\r\n        );\r\n    } \r\n}\r\n\r\nexport default LoginForm;","import { Component } from \"react\";\r\nimport axios from 'axios';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { API_URL } from \"../../utils/_globals\";\r\nimport './SignupForm.scss'\r\n\r\nclass SignupForm extends Component {\r\n    state = {\r\n        name: '',\r\n        username: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        errorMessage: '',\r\n        isError: false\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n       \r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const {name, username, password, confirmPassword} = this.state\r\n\r\n        if (!name || !username || !password || !confirmPassword) {\r\n            this.setState({errorMessage: 'All fields are required for signup', isError: true})\r\n        }\r\n        else if (password !== confirmPassword){\r\n            this.setState({errorMessage: 'Passwords do not match', isError: true})\r\n        }\r\n        else if (password.length < 8) {\r\n            this.setState({errorMessage: 'Password must be at least 8 characters long', isError: true})\r\n        }\r\n        else {\r\n            axios\r\n                .get(`${API_URL}/${username}`)\r\n                .then(res => {\r\n                    if (res.data.message) {\r\n                        this.setState({errorMessage: 'This username is already taken, please choose another', isError: true})\r\n                        return false\r\n                    }   \r\n                    else {\r\n                        let userInfo = {\r\n                            name: name,\r\n                            username: username,\r\n                            password: password,\r\n                            confirmPassword: confirmPassword\r\n                        }\r\n                        axios\r\n                            .post(`${API_URL}/signup`, userInfo)\r\n                            .then(res => {\r\n                                // Responds with the id of the new user\r\n                            })\r\n                        this.props.handleClearSignup();\r\n                        return <Redirect to='/' />\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    handleReturnToLogin = () => {\r\n        this.props.handleClearSignup();\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.setState({\r\n            name: '',\r\n            username: '',\r\n            password: '',\r\n            confirmPassword: ''\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <section className='signup'>\r\n                    <form id='signup-form' className='signup__form' onSubmit={this.handleSubmit}>\r\n                        <input type='text' \r\n                                name='name' \r\n                                placeholder='Your Name' \r\n                                value={this.state.name}\r\n                                onChange={this.handleChange}\r\n                                autoFocus\r\n                                className='signup__input'></input>\r\n                        <input type='text' \r\n                                name='username' \r\n                                placeholder='Your Username' \r\n                                value={this.state.username}\r\n                                onChange={this.handleChange}\r\n                                className='signup__input'></input>\r\n                        <input type='password' \r\n                                name='password' \r\n                                placeholder='<password>' \r\n                                value={this.state.password}\r\n                                onChange={this.handleChange}\r\n                                className='signup__input'></input>\r\n                        <input type='password' \r\n                                name='confirmPassword' \r\n                                placeholder='<confirm your password>' \r\n                                value={this.state.confirmPassword}\r\n                                onChange={this.handleChange}\r\n                                className='signup__input'></input>\r\n                    </form>\r\n                    {this.state.isError ? <p>{this.state.errorMessage}</p> : <></>}\r\n                <div className='signup__button-container'>\r\n                    <button className='signup__sign-button' type='submit' form='signup-form'>Sign up</button>\r\n                    <button className='signup__return-button' onClick={this.handleReturnToLogin}>Return to Log in</button>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SignupForm","import './LandingBanner.scss'\r\n\r\nconst LandingBanner = () => {\r\n    return(\r\n        <section className='landing-banner'>\r\n            \r\n        </section>\r\n    );\r\n}\r\n\r\nexport default LandingBanner","import './Footer.scss'\r\nimport { API_URL } from '../../utils/_globals'\r\n\r\nconst Footer = () => {\r\n    return(\r\n        <section className='footer'>   \r\n            <div className='footer__name'>\r\n                <h3>Contact the developer</h3>\r\n                <p>Dale Heggie</p>\r\n            </div>\r\n            <div className='footer__phone'>\r\n                <img className='footer__icon' src={`${API_URL}/icons/call-icon.png`} alt='phone icon'/>\r\n                <a className='footer__link' href='tel:+16043884367'>+1 (604)-388-4367</a>\r\n            </div>\r\n            <div className='footer__email'>\r\n                <img className='footer__icon' src={`${API_URL}/icons/email-icon.png`} alt='email icon'/>  \r\n                <a className='footer__link' href='mailto:dale.heggie@hotmail.com'>dale.heggie@hotmail.com</a>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Footer","import { Component } from 'react';\r\nimport LoginForm from '../../components/LoginForm';\r\nimport SignupForm from '../../components/SignupForm';\r\nimport LandingBanner from '../../components/LandingBanner';\r\nimport Footer from '../../components/Footer';\r\nimport './LandingPage.scss'\r\n\r\nclass LandingPage extends Component {\r\n    state = {\r\n        name: '',\r\n        username: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        showSignup: false\r\n    }\r\n\r\n    handleShowSignup = () => {\r\n        this.setState({ showSignup: true })\r\n    }\r\n    handleClearSignup = () => {\r\n        this.setState({ showSignup: false })\r\n    }\r\n    render() {\r\n        return (\r\n            <section className='landing-page'>\r\n                <LandingBanner />\r\n                {this.state.showSignup ? <SignupForm handleClearSignup={this.handleClearSignup} /> : <LoginForm handleLogin={this.props.handleLogin} handleShowSignup={this.handleShowSignup} />}\r\n                <h2 className='landing-page__subtitle'>Your hand-held guide to all the local's only food and drink specials in town</h2>\r\n                <p className='landing-page__about'>If you're anything like us, you've undoubtedly been stuck wondering if that awesome happy hour special at your favourite bar is still running, or if the 3-course special is still going at the fancy place in the village.</p>\r\n                <p className='landing-page__about'>Well, we are here to tell you, never again. Just log in to Deal-ight to keep up to date with all the local specials and even keep tabs on all your favourites in one handy location. Goodbye scouring facebook newsfeeds, Hello Deal-ight!</p>\r\n                <Footer />\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LandingPage;","import axios from 'axios';\r\nimport { API_URL } from './_globals';\r\n\r\nexport const addToFavouriteDeals = (deal_id) => {\r\n    axios\r\n        .post(`${API_URL}/profile/favourite/deals`, {\r\n            deal_id: deal_id\r\n        }, {\r\n            headers: {\r\n                Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log(res)\r\n        })\r\n        .catch(err => {\r\n            throw err\r\n        })\r\n}\r\nexport const addToFavouritePlaces = (establishment_id) => {\r\n\r\n    axios\r\n        .post(`${API_URL}/profile/favourite/places`, {\r\n            establishment_id: establishment_id\r\n        }, {\r\n            headers: {\r\n                Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log(res)\r\n        })\r\n        .catch(err => {\r\n            throw err\r\n        })\r\n}","import axios from 'axios';\r\nimport React from 'react';\r\nimport './DailyCard.scss';\r\nimport { API_URL } from '../../utils/_globals';\r\nimport { addToFavouriteDeals } from '../../utils/addToFavourites'\r\n\r\n\r\nconst DailyCard = ({ today }) => {\r\n    let [deals, setDeals] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        axios\r\n        .get(`${API_URL}/deals/${today}`)\r\n        .then(res => {\r\n            setDeals(res.data)\r\n        })\r\n    })\r\n    \r\n    if (!deals) return <h2>LOADING...</h2>\r\n    return(\r\n        <section className='daily-card'>\r\n            <h1 className='daily-card__day'>{today}</h1>\r\n            {deals.map(deal => {\r\n                return(\r\n                    <div className='daily-card__entry' key={deal.id}>\r\n                        <h2 className='daily-card__place'>{deal.name}</h2>\r\n                        <p>{deal.details}</p>\r\n                        <button className='daily-card__button' onClick={() => addToFavouriteDeals(deal.id)}>Add to favourites</button>\r\n                    </div>\r\n                )\r\n            })}\r\n        </section>\r\n    )\r\n}\r\nexport default DailyCard","import DailyCard from \"../DailyCard\";\r\n\r\nconst WeeklyList = ({today}) => {\r\n\r\n    const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\r\n    // let dayOfTheWeek = days[today.getDay()];\r\n\r\n    // Compute a new array of days with today as the first entry\r\n    let computedWeek = [];\r\n    for (let i = 0; i < 7; i++) {\r\n        // Modulus operator deals with the index exceeding the length of the array\r\n        computedWeek.push(days[(today.getDay() + i) % 7])\r\n    }\r\n\r\n    return(\r\n        \r\n        computedWeek.map(day => {\r\n            return <DailyCard today={day} key={day}/>\r\n        })\r\n        \r\n    );\r\n}\r\n\r\nexport default WeeklyList","import React from \"react\";\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { removeFromFavouritePlaces } from \"../../utils/removeFromFavourites\";\r\nimport { API_URL } from \"../../utils/_globals\";\r\nimport './FavouritePlacesList.scss';\r\n\r\nconst FavouritePlacesList = (props) => {\r\n\r\n    let [places, setPlaces] = React.useState([])\r\n\r\n    React.useEffect(() => {\r\n        axios\r\n        .get(`${API_URL}/profile/favourite/places`, {\r\n            headers: {\r\n                Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            setPlaces(res.data)\r\n        })\r\n    }, [places])\r\n\r\n    if (!places) return <h2>Oops...looks like there was a problem getting the list of places</h2>\r\n    return(\r\n        <section className='favourite-places'>\r\n            {!(places.length === 0) ? <h3 className='favourite-places__title'>Favourite Places</h3> : <></> }\r\n            <ul className='favourite-places__list'>\r\n                {!(places.length===0) ? <li className='favourite-places__entry--headings'>\r\n                    <div className='favourite-places__place'>Place</div>\r\n                </li> : <></> }\r\n                {places.map(place => {\r\n                    return (<li className='favourite-places__entry' key= {place.id}>\r\n                                <Link className='favourite-places__link' to={`/places/${place.id}`}><div className='favourite-places__place'  >{place.name}</div></Link>\r\n                                <button className='favourite-places__button' onClick={()=>removeFromFavouritePlaces(place.id)}>Remove</button>\r\n                            </li>)\r\n                })}\r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default FavouritePlacesList","import axios from 'axios';\r\nimport { API_URL } from './_globals';\r\n\r\nexport const removeFromFavouriteDeals = (deal_id) => {\r\n    axios\r\n        .delete(`${API_URL}/profile/favourite/deals/${deal_id}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then(data => {\r\n            // console.log(data)\r\n        })\r\n\r\n}\r\n\r\nexport const removeFromFavouritePlaces = (place_id) => {\r\n    axios\r\n        .delete(`${API_URL}/profile/favourite/places/${place_id}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then(data => {\r\n            // console.log(data)\r\n        })\r\n\r\n}\r\n","export const parseDays = (days) => {\r\n    return days.split('/').join(' ')\r\n}","import React from \"react\";\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { removeFromFavouriteDeals } from '../../utils/removeFromFavourites';\r\nimport { parseDays } from \"../../utils/parseDays\";\r\nimport { API_URL } from \"../../utils/_globals\";\r\nimport './FavouriteDealsList.scss'\r\n\r\nconst FavouriteDealsList = ({setFavouriteDeals}) => {\r\n\r\n    let [deals, setDeals] = React.useState([])\r\n\r\n    React.useEffect(() => {\r\n        axios\r\n        .get(`${API_URL}/profile/favourite/deals`, {\r\n            headers: {\r\n                Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            setDeals(res.data)\r\n        })\r\n    }, [deals])\r\n\r\n    if (!deals) return <h2>Oops...looks like there was a problem getting the list of deals</h2>\r\n    \r\n    return(\r\n        <section className='favourite-deals'>\r\n            {!(deals.length === 0) ? <h3 className='favourite-deals__title'>Favourite Deals</h3> : <></> }\r\n            <ul className='favourite-deals__list'>\r\n                {!(deals.length === 0) ? <li className='favourite-deals__entry--headings'>\r\n                    <div className='favourite-deals__day-column'>Day</div>\r\n                    <div className='favourite-deals__deal-column'>Deal</div>\r\n                </li> : <></>}\r\n                {deals.map(deal => {\r\n                    return (<li className='favourite-deals__entry' key={deal.id}>\r\n                                    <Link className='favourite-deals__link' to={`/places/${deal.establishment_id}`}><div className='favourite-deals__day-column'>{parseDays(deal.day)}</div>\r\n                                    <div className='favourite-deals__deal-column' >{deal.details}</div></Link>\r\n                                    <button className='favourite-deals__button' onClick={()=>removeFromFavouriteDeals(deal.id)}>Remove</button>\r\n                            </li>)\r\n                })}\r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default FavouriteDealsList","import { Component } from \"react\";\r\nimport axios from 'axios';\r\nimport WeeklyList from \"../../components/WeeklyList/WeeklyList\";\r\nimport FavouritePlacesList from \"../../components/FavouritePlacesList\";\r\nimport FavouriteDealsList from \"../../components/FavouriteDealsList\";\r\nimport { API_URL } from \"../../utils/_globals\"; \r\nimport './UserPage.scss'\r\n\r\nclass UserPage extends Component {\r\n\r\n    state = {\r\n        user: null,\r\n        favouriteDeals: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Get user details from token\r\n        axios\r\n            .get(`${API_URL}/profile`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n                }\r\n            })\r\n            .then(res => {\r\n                this.setState({user: res.data[0]})\r\n            })\r\n            .catch(err => {\r\n                this.props.handleLogout()\r\n            })\r\n    }\r\n\r\n    setFavouriteDeals = (deals) => {\r\n        let deal_ids = deals.map(deal => {\r\n            return(deal.id)\r\n        })\r\n        if (deal_ids !== this.state.favouriteDeals) {\r\n            this.setState({favouriteDeals: deal_ids})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.user) {\r\n            return <></>\r\n        }\r\n        return (\r\n            <section className='user-page'>\r\n                <h1 className='user-page__greeting'>Welcome {this.state.user.name}</h1>\r\n                <button className='user-page__logout' onClick={this.props.handleLogout}>Log Out</button>\r\n                <FavouritePlacesList />\r\n                <FavouriteDealsList setFavouriteDeals={this.setFavouriteDeals}/>\r\n                <WeeklyList today={new Date()} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserPage","import React from \"react\";\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { addToFavouritePlaces } from \"../../utils/addToFavourites\";\r\nimport { API_URL } from \"../../utils/_globals\";\r\nimport './PlacesList.scss'\r\n\r\nconst PlacesList = ({user}) => {\r\n\r\n    let [places, setPlaces] = React.useState([])\r\n\r\n    React.useEffect(() => {\r\n        axios\r\n        .get(`${API_URL}/places`)\r\n        .then(res => {\r\n            setPlaces(res.data)\r\n        })\r\n    }, [setPlaces])\r\n\r\n    if (!places) return <h2>Oops...looks like there was a problem getting the list of places</h2>\r\n    return(\r\n        <section className='places'>\r\n            <ul className='places__list'>\r\n                <li className='places__entry--headings'>\r\n                    <div className='places__place-column'>Place</div>\r\n                    <div className='places__cuisine-column'>Cuisine</div>\r\n                </li>\r\n                {places.map(place => {\r\n                    return (<li className='places__entry' key={place.id}>\r\n                                <Link className='places__link' to={`/places/${place.id}`}><div className='places__place-column'>{place.name}</div>\r\n                                <div className='places__cuisine-column'>{place.cuisine}</div></Link>\r\n                                {/* Places an 'add to favourites button if there is a user logged in */}\r\n                                {user ? <button className='places__button' onClick={() => addToFavouritePlaces(place.id)}>Add favourite</button>\r\n                                            : <></>}\r\n                            </li>)\r\n                })}\r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PlacesList","import {Component} from 'react';\r\nimport axios from 'axios';\r\nimport PlacesList from '../../components/PlacesList'\r\nimport { API_URL } from '../../utils/_globals';\r\nimport './PlacesPage.scss'\r\n\r\nclass PlacesPage extends Component {\r\n\r\n    state = {\r\n        user: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios\r\n            .get(`${API_URL}/profile`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n                }\r\n            })\r\n            .then(res => {\r\n                this.setState({user: res.data[0]})\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <PlacesList user={this.state.user}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PlacesPage","import React from \"react\";\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { addToFavouriteDeals } from \"../../utils/addToFavourites\";\r\nimport { parseDays } from \"../../utils/parseDays\";\r\nimport { deleteDeal } from '../../utils/deleteDeal';\r\nimport { API_URL } from \"../../utils/_globals\";\r\nimport './DealsList.scss';\r\n\r\nconst DealsList = ({establishment_id, user, removeButton}) => {\r\n\r\n    let [deals, setDeals] = React.useState([])\r\n\r\n    React.useEffect(() => {\r\n        axios\r\n        .get(`${API_URL}/deals`)\r\n        .then(res => {\r\n            setDeals(res.data)\r\n        })\r\n    })\r\n\r\n    if (!deals) return <h2>Oops...looks like there was a problem getting the list of deals</h2>\r\n\r\n    return(\r\n        <>\r\n            <ul className='deal-list'>\r\n                {!establishment_id ? <li className='deal-list__entry--headings'>\r\n                                        <div className='deal-list__place-column'>Place</div>\r\n                                        <div className='deal-list__day-column'>Day</div>\r\n                                        <div className='deal-list__deal-column'>Deal</div>\r\n                                    </li>\r\n                                    : <></>}\r\n                {/* If the establishment id is given, then we want to show only deals for that particular establishment */}\r\n                {establishment_id \r\n                        ? deals = deals.filter(deal => {\r\n                            return(deal.establishment_id === establishment_id)\r\n                        }).map(deal => {\r\n                            return (<li className='deal-list__entry'>\r\n                                        <div className='deal-list__day-column'>{parseDays(deal.day)}</div>\r\n                                        <div className='deal-list__deal-column'>{deal.details}</div>\r\n                                        {/* If there is a user logged in, we want to show the add to favourite button */}\r\n                                        {user ? <button className={removeButton ? 'deal-list__button--hidden' : 'deal-list__button'} onClick={() => addToFavouriteDeals(deal.id)}>Add favourite</button> : <></>}\r\n                                        {/* If the remove button flag is present, the above button should be hidden and the remove button shown */}\r\n                                        {removeButton ? <button className='deal-list__button' onClick={() => deleteDeal(deal.id)}>Remove</button>\r\n                                            : <></>}\r\n                                    </li>)\r\n                        })\r\n                        : deals.map(deal => {\r\n                            return (<Link className='deal-list__link' to={`/places/${deal.establishment_id}`}><li className='deal-list__entry'>\r\n                                        {/* Deal description and a link to the business page */}\r\n                                        <div className='deal-list__place-column'>{deal.name}</div>\r\n                                        <div className='deal-list__day-column'>{parseDays(deal.day)}</div>\r\n                                        <div className='deal-list__deal-column'>{deal.details}</div>\r\n                                        \r\n                                        {/* Places an 'add to favourites button if there is a user logged in */}\r\n                                        {/* {user ? <button className='deal-list__button' onClick={() => addToFavouriteDeals(deal.id)}>+ Favourite</button>\r\n                                            : <></>} */}\r\n                                    </li></Link>)\r\n                        })}\r\n                \r\n            </ul>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default DealsList","import axios from 'axios';\r\nimport { API_URL } from './_globals';\r\n\r\nexport const deleteDeal = (deal_id) => {\r\n    axios\r\n        .delete(`${API_URL}/deals/${deal_id}`)\r\n        .then(data => {\r\n            console.log(data)\r\n        })\r\n\r\n}\r\n","import { API_URL } from '../../utils/_globals';\r\nimport './BusinessHeader.scss'\r\n\r\nconst BusinessHeader = ({establishment}) => {\r\n\r\n    let headerStyle = {\r\n        backgroundImage: `url(${API_URL}/${establishment.header_path})`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center'\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <section className='business-header' style={headerStyle}>\r\n                \r\n            </section>\r\n            <div className='business-header__titles'>\r\n                <h1 className='business-header__place-name'>{establishment.name} |</h1>\r\n                <h3>{establishment.cuisine}</h3>\r\n            </div>\r\n            <div className='business-header__info'>\r\n                <p>{establishment.phone}</p><p>{establishment.address}</p><p>{establishment.menu}</p>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default BusinessHeader","import { Component } from \"react\";\r\nimport './AddDealForm.scss'\r\n\r\nclass AddDealForm extends Component {\r\n    state={\r\n        details: '',\r\n        errorMessage: '',\r\n        isError: false\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        \r\n        // Get all the selected days and put into a string\r\n        let day = []\r\n        if (event.target.sunday.checked) day.push('sunday')\r\n        if (event.target.monday.checked) day.push('monday')\r\n        if (event.target.tuesday.checked) day.push('tuesday')\r\n        if (event.target.wednesday.checked) day.push('wednesday')\r\n        if (event.target.thursday.checked) day.push('thursday')\r\n        if (event.target.friday.checked) day.push('friday')\r\n        if (event.target.saturday.checked) day.push('saturday')\r\n        day = day.join('/')\r\n\r\n        // Check all fields are filled in\r\n        if (!day || !(event.target.until.value) || !this.state.details) {\r\n            this.setState({errorMessage: 'Please fill out all fields', isError: true})\r\n            return false\r\n        }\r\n\r\n        // Submit validated information and reset error flag\r\n        this.props.handleSubmitDeal({day: day, until: event.target.until.value, details: event.target.details.value})\r\n        this.setState({errorMessage: '', isError: false})\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <section className='new-deal'>\r\n                <form className ='new-deal__form' onSubmit={this.handleSubmit}>\r\n                    <div>\r\n                        <p>Add a short but detailed description of the deal you'd like to offer</p>\r\n                        <textarea className='new-deal__textbox' type='textarea' resize='false' name='details' value={this.state.description} onChange={this.handleChange} autoFocus></textarea>\r\n                    </div>\r\n                    <p>Which day/s will your deal run</p>\r\n                    <div className='new-deal__checkboxes'>\r\n                        <div className='new-deal__checkbox'><input type=\"checkbox\" name=\"monday\" value=\"monday\" />\r\n                        <label for=\"sunday\">Monday</label></div>\r\n                        <div className='new-deal__checkbox'><input type=\"checkbox\" name=\"tuesday\" value=\"tuesday\" />\r\n                        <label for=\"sunday\">Tuesday</label></div>\r\n                        <div className='new-deal__checkbox'><input type=\"checkbox\" name=\"wednesday\" value=\"wednesday\" />\r\n                        <label for=\"sunday\">Wednesday</label></div>\r\n                        <div className='new-deal__checkbox'><input type=\"checkbox\" name=\"thursday\" value=\"thursday\" />\r\n                        <label for=\"sunday\">Thursday</label></div>\r\n                        <div className='new-deal__checkbox'><input type=\"checkbox\" name=\"friday\" value=\"friday\" />\r\n                        <label for=\"sunday\">Friday</label></div>\r\n                        <div className='new-deal__checkbox'><input type=\"checkbox\" name=\"saturday\" value=\"saturday\" />\r\n                        <label for=\"sunday\">Saturday</label></div>\r\n                        <div className='new-deal__checkbox'><input type=\"checkbox\" name=\"sunday\" value=\"sunday\" />\r\n                        <label for=\"sunday\">Sunday</label></div>\r\n                    </div>\r\n                    <div>\r\n                        <p>Please select the final date your deal will run</p>\r\n                        <input className='new-deal__until' type='date' name='until' onChange={this.handleChange}></input>\r\n                    </div>\r\n                    <div className='new-deal__button-container'>\r\n                        <button className='new-deal__submit-button' type=\"submit\">Add new deal</button>\r\n                        <button className='new-deal__cancel-button' onClick={this.props.handleCancel}>Cancel</button>\r\n                    </div>\r\n                    {this.state.isError ? <p>{this.state.errorMessage}</p> : <></>}\r\n                </form>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddDealForm","import { Component } from \"react\"\r\nimport axios from 'axios';\r\nimport AddDealForm from '../AddDealForm'\r\nimport { API_URL } from \"../../utils/_globals\"; \r\nimport DailyCard from \"../DailyCard\";\r\nimport './BusinessDashboard.scss';\r\n\r\nclass BusinessDashboard extends Component {\r\n\r\n    state={\r\n        showAddDeal: false\r\n    }\r\n\r\n    handleAddDeal = () => {\r\n        this.setState({showAddDeal: true})\r\n    }\r\n    handleSubmitDeal = (deal) => {\r\n        const {day, until, details} = deal\r\n        \r\n        axios\r\n            .post(`${API_URL}/deals`, {\r\n                day: day,\r\n                until: until,\r\n                details: details,\r\n                establishment_id: this.props.establishment_id\r\n            })\r\n            .then(res => {\r\n                console.log(res)\r\n            })\r\n\r\n        this.setState({showAddDeal: false})\r\n    }\r\n    handleCancel = () => {\r\n        this.setState({showAddDeal: false})\r\n    }   \r\n\r\n    render() {\r\n        if (this.state.showAddDeal) {\r\n            return(\r\n                <AddDealForm handleCancel = {this.handleCancel} handleSubmitDeal={this.handleSubmitDeal}/>\r\n            );\r\n        }\r\n        return(\r\n            <section className='business-dashboard'>\r\n                <button className='add-deal-button' onClick={this.handleAddDeal}>Add a new deal</button>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BusinessDashboard","import { Component } from \"react\";\r\nimport axios from 'axios';\r\nimport DealsList from \"../../components/DealsList\";\r\nimport BusinessHeader from \"../../components/BusinessHeader\";\r\nimport BusinessDashboard from \"../../components/BusinessDashboard\";\r\nimport './BusinessPage.scss';\r\nimport {API_URL} from '../../utils/_globals';\r\n\r\nclass BusinessPage extends Component {\r\n    state={\r\n        user: {id: null},\r\n        establishment: null,\r\n        privateView: false\r\n    }\r\n    componentDidMount() {\r\n        axios\r\n            .get(`${API_URL}/places/${this.props.match.params.establishment_id}`)\r\n            .then(res => {\r\n                this.setState({establishment: res.data[0]})\r\n                axios\r\n                    .get(`http://localhost:5000/profile`, {\r\n                        headers: {\r\n                            Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n                        }\r\n                    })\r\n                    .then(res => {\r\n                        this.setState({user: res.data[0]})\r\n                    })\r\n            })\r\n    }\r\n    render() {\r\n        if (!this.state.establishment) return <></>\r\n        return(\r\n            <section className='business-page'>\r\n                <BusinessHeader establishment={this.state.establishment} />\r\n                {/* {console.log(this.state.establishment.id)} */}\r\n                <h4 className='business-page__deals-header'>Our Deals</h4>\r\n                <ul className='business-page__list-headings'>\r\n                    <li className='deal-list__entry--headings'>\r\n                        <div className='deal-list__day-column'>Day</div>\r\n                        <div className='deal-list__deal-column'>Deal</div>\r\n                    </li>\r\n                </ul>\r\n                {this.state.establishment.owner_id === this.state.user.id ? <DealsList establishment_id={this.state.establishment.id} removeButton={true} />\r\n                                                                        : <DealsList establishment_id={this.state.establishment.id} user={this.state.user}/>}\r\n                {this.state.establishment.owner_id === this.state.user.id ? <BusinessDashboard establishment_id={this.state.establishment.id}/> : <></>}\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BusinessPage","import {Component} from 'react';\r\nimport axios from 'axios';\r\nimport DealsList from '../../components/DealsList'\r\n\r\nclass DealsPage extends Component {\r\n\r\n    state = {\r\n        user: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios\r\n            .get(`http://localhost:5000/profile`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n                }\r\n            })\r\n            .then(res => {\r\n                this.setState({user: res.data[0]})\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <DealsList user={this.state.user}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DealsPage","import { NavLink } from \"react-router-dom\";\r\nimport { API_URL } from \"../../utils/_globals\";\r\nimport './Header.scss'\r\n\r\nconst Header = () => {\r\n    return(\r\n        <section className='header'>\r\n            <img className='header__logo' src={`${API_URL}/Dealight-logo.png`} alt='Main logo'></img>\r\n            <ul className='header__nav-list'>\r\n                <li className='header__nav-list-item'><NavLink to='/' exact className={(isActive) => \"header__link\" + (isActive ? \"--active\" : \"\")}>Home</NavLink></li>\r\n                <li className='header__nav-list-item'><NavLink to='/places' className={(isActive) => \"header__link\" + (isActive ? \"--active\" : \"\")}>Places</NavLink></li>\r\n                <li className='header__nav-list-item'><NavLink to='/deals' exact className={(isActive) => \"header__link\" + (isActive ? \"--active\" : \"\")}>Deals</NavLink></li>    \r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Header","import { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport LandingPage from './pages/LandingPage';\r\nimport UserPage from './pages/UserPage';\r\nimport PlacesPage from './pages/PlacesPage';\r\nimport BusinessPage from './pages/BusinessPage';\r\nimport DealsPage from './pages/DealsPage';\r\nimport Header from './components/Header';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  state={\r\n    isLoggedIn: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (sessionStorage.getItem('token')) {\r\n        this.setState({isLoggedIn: true})\r\n    }\r\n  }\r\n\r\n  handleLogin = () => {\r\n    this.setState({isLoggedIn: true});\r\n  }\r\n  \r\n  handleLogout = () => {\r\n    this.setState({isLoggedIn: false})\r\n    sessionStorage.removeItem('token')\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <>\r\n        <Header />\r\n        <Switch>\r\n          <Route path='/' exact>\r\n              {!this.state.isLoggedIn ? <LandingPage handleLogin={this.handleLogin}/> : <UserPage handleLogout={this.handleLogout}/>}\r\n          </Route>\r\n          <Route path='/places' exact>\r\n              <PlacesPage />\r\n          </Route>\r\n          <Route path='/places/:establishment_id' exact component={BusinessPage}/>\r\n          <Route path='/deals'>\r\n              <DealsPage />\r\n          </Route>\r\n        </Switch>\r\n      </>\r\n    )\r\n    \r\n    \r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}