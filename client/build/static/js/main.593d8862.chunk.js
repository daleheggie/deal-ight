(this["webpackJsonpdeal-ite"]=this["webpackJsonpdeal-ite"]||[]).push([[0],{39:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(32),i=a.n(c),l=(a(39),a(9)),r=a(4),o=a(5),d=a(7),u=a(6),h=a(3),j=a(16),b=a(2),m=a.n(b),p="https://deal-ite.herokuapp.com",f=(a(58),a(0)),O=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",error:"",isError:!1},e.handleSubmit=function(t){t.preventDefault();var a={username:e.state.username,password:e.state.password};e.setState({password:""}),m.a.post("".concat(p,"/login"),a).then((function(t){t.data.token?(sessionStorage.setItem("token",t.data.token),e.props.handleLogin()):e.setState({error:t.data.message,isError:!0})})).catch((function(e){console.log()}))},e.handleChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("section",{className:"login",children:[Object(f.jsxs)("form",{id:"login-form",className:"login__form",onSubmit:this.handleSubmit,children:[Object(f.jsx)("input",{type:"text",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange,className:"login__input",autoFocus:!0}),Object(f.jsx)("input",{type:"password",name:"password",placeholder:"<password>",value:this.state.password,onChange:this.handleChange,className:"login__input"})]}),this.state.isError?Object(f.jsx)("p",{children:this.state.error}):Object(f.jsx)(f.Fragment,{}),Object(f.jsxs)("div",{className:"login__button-container",children:[Object(f.jsx)("button",{className:"login__log-button",type:"submit",form:"login-form",children:"Log In"}),Object(f.jsx)("button",{className:"login__signup-button",onClick:this.props.handleShowSignup,children:"Register Here"})]})]})}}]),a}(s.Component),g=O,x=(a(60),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={name:"",username:"",password:"",confirmPassword:"",errorMessage:"",isError:!1},e.handleChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,s=a.name,n=a.username,c=a.password,i=a.confirmPassword;s&&n&&c&&i?c!==i?e.setState({errorMessage:"Passwords do not match",isError:!0}):c.length<8?e.setState({errorMessage:"Password must be at least 8 characters long",isError:!0}):m.a.get("".concat(p,"/").concat(n)).then((function(t){if(t.data.message)return e.setState({errorMessage:"This username is already taken, please choose another",isError:!0}),!1;var a={name:s,username:n,password:c,confirmPassword:i};return m.a.post("".concat(p,"/signup"),a).then((function(e){})),e.props.handleClearSignup(),Object(f.jsx)(h.a,{to:"/"})})):e.setState({errorMessage:"All fields are required for signup",isError:!0})},e.handleReturnToLogin=function(){return e.props.handleClearSignup(),Object(f.jsx)(h.a,{to:"/"})},e}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.setState({name:"",username:"",password:"",confirmPassword:""})}},{key:"render",value:function(){return Object(f.jsxs)("section",{className:"signup",children:[Object(f.jsxs)("form",{id:"signup-form",className:"signup__form",onSubmit:this.handleSubmit,children:[Object(f.jsx)("input",{type:"text",name:"name",placeholder:"Your Name",value:this.state.name,onChange:this.handleChange,autoFocus:!0,className:"signup__input"}),Object(f.jsx)("input",{type:"text",name:"username",placeholder:"Your Username",value:this.state.username,onChange:this.handleChange,className:"signup__input"}),Object(f.jsx)("input",{type:"password",name:"password",placeholder:"<password>",value:this.state.password,onChange:this.handleChange,className:"signup__input"}),Object(f.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"<confirm your password>",value:this.state.confirmPassword,onChange:this.handleChange,className:"signup__input"})]}),this.state.isError?Object(f.jsx)("p",{children:this.state.errorMessage}):Object(f.jsx)(f.Fragment,{}),Object(f.jsxs)("div",{className:"signup__button-container",children:[Object(f.jsx)("button",{className:"signup__sign-button",type:"submit",form:"signup-form",children:"Sign up"}),Object(f.jsx)("button",{className:"signup__return-button",onClick:this.handleReturnToLogin,children:"Return to Log in"})]})]})}}]),a}(s.Component)),_=x,v=(a(66),function(){return Object(f.jsx)("section",{className:"landing-banner"})}),y=(a(67),function(){return Object(f.jsxs)("section",{className:"footer",children:[Object(f.jsxs)("div",{className:"footer__name",children:[Object(f.jsx)("h3",{children:"Contact the developer"}),Object(f.jsx)("p",{children:"Dale Heggie"})]}),Object(f.jsxs)("div",{className:"footer__phone",children:[Object(f.jsx)("img",{className:"footer__icon",src:"".concat(p,"/icons/call-icon.png"),alt:"phone icon"}),Object(f.jsx)("a",{className:"footer__link",href:"tel:+16043884367",children:"+1 (604)-388-4367"})]}),Object(f.jsxs)("div",{className:"footer__email",children:[Object(f.jsx)("img",{className:"footer__icon",src:"".concat(p,"/icons/email-icon.png"),alt:"email icon"}),Object(f.jsx)("a",{className:"footer__link",href:"mailto:dale.heggie@hotmail.com",children:"dale.heggie@hotmail.com"})]})]})}),N=(a(68),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={name:"",username:"",password:"",confirmPassword:"",showSignup:!1},e.handleShowSignup=function(){e.setState({showSignup:!0})},e.handleClearSignup=function(){e.setState({showSignup:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("section",{className:"landing-page",children:[Object(f.jsx)(v,{}),this.state.showSignup?Object(f.jsx)(_,{handleClearSignup:this.handleClearSignup}):Object(f.jsx)(g,{handleLogin:this.props.handleLogin,handleShowSignup:this.handleShowSignup}),Object(f.jsx)("h2",{className:"landing-page__subtitle",children:"Your hand-held guide to all the local's only food and drink specials in town"}),Object(f.jsx)("p",{className:"landing-page__about",children:"If you're anything like us, you've undoubtedly been stuck wondering if that awesome happy hour special at your favourite bar is still running, or if the 3-course special is still going at the fancy place in the village."}),Object(f.jsx)("p",{className:"landing-page__about",children:"Well, we are here to tell you, never again. Just log in to Deal-ight to keep up to date with all the local specials and even keep tabs on all your favourites in one handy location. Goodbye scouring facebook newsfeeds, Hello Deal-ight!"}),Object(f.jsx)(y,{})]})}}]),a}(s.Component)),k=N,w=a(14),S=(a(69),function(e){m.a.post("".concat(p,"/profile/favourite/deals"),{deal_id:e},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){})).catch((function(e){throw e}))}),C=function(e){var t=e.today,a=n.a.useState(""),s=Object(w.a)(a,2),c=s[0],i=s[1];return n.a.useEffect((function(){m.a.get("".concat(p,"/deals/").concat(t)).then((function(e){i(e.data)}))})),c?Object(f.jsxs)("section",{className:"daily-card",children:[Object(f.jsx)("h1",{className:"daily-card__day",children:t}),c.map((function(e){return Object(f.jsxs)("div",{className:"daily-card__entry",children:[Object(f.jsx)("h2",{className:"daily-card__place",children:e.name}),Object(f.jsx)("p",{children:e.details}),Object(f.jsx)("button",{className:"daily-card__button",onClick:function(){return S(e.id)},children:"Add to favourites"})]},e.id)}))]}):Object(f.jsx)("h2",{children:"LOADING..."})},D=function(e){for(var t=e.today,a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],s=[],n=0;n<7;n++)s.push(a[(t.getDay()+n)%7]);return s.map((function(e){return Object(f.jsx)(C,{today:e},e)}))},A=(a(70),function(e){var t=n.a.useState([]),a=Object(w.a)(t,2),s=a[0],c=a[1];return n.a.useEffect((function(){m.a.get("".concat(p,"/profile/favourite/places"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){c(e.data)}))}),[s]),s?Object(f.jsxs)("section",{className:"favourite-places",children:[0!==s.length?Object(f.jsx)("h3",{className:"favourite-places__title",children:"Favourite Places"}):Object(f.jsx)(f.Fragment,{}),Object(f.jsxs)("ul",{className:"favourite-places__list",children:[0!==s.length?Object(f.jsx)("li",{className:"favourite-places__entry--headings",children:Object(f.jsx)("div",{className:"favourite-places__place",children:"Place"})}):Object(f.jsx)(f.Fragment,{}),s.map((function(e){return Object(f.jsxs)("li",{className:"favourite-places__entry",children:[Object(f.jsx)(l.b,{className:"favourite-places__link",to:"/places/".concat(e.id),children:Object(f.jsx)("div",{className:"favourite-places__place",children:e.name})}),Object(f.jsx)("button",{className:"favourite-places__button",onClick:function(){return t=e.id,void m.a.delete("".concat(p,"/profile/favourite/places/").concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){}));var t},children:"Remove"})]},e.id)}))]})]}):Object(f.jsx)("h2",{children:"Oops...looks like there was a problem getting the list of places"})}),F=function(e){return e.split("/").join(" ")},I=(a(71),function(e){e.setFavouriteDeals;var t=n.a.useState([]),a=Object(w.a)(t,2),s=a[0],c=a[1];return n.a.useEffect((function(){m.a.get("".concat(p,"/profile/favourite/deals"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){c(e.data)}))}),[s]),s?Object(f.jsxs)("section",{className:"favourite-deals",children:[0!==s.length?Object(f.jsx)("h3",{className:"favourite-deals__title",children:"Favourite Deals"}):Object(f.jsx)(f.Fragment,{}),Object(f.jsxs)("ul",{className:"favourite-deals__list",children:[0!==s.length?Object(f.jsxs)("li",{className:"favourite-deals__entry--headings",children:[Object(f.jsx)("div",{className:"favourite-deals__day-column",children:"Day"}),Object(f.jsx)("div",{className:"favourite-deals__deal-column",children:"Deal"})]}):Object(f.jsx)(f.Fragment,{}),s.map((function(e){return Object(f.jsxs)("li",{className:"favourite-deals__entry",children:[Object(f.jsxs)(l.b,{className:"favourite-deals__link",to:"/places/".concat(e.establishment_id),children:[Object(f.jsx)("div",{className:"favourite-deals__day-column",children:F(e.day)}),Object(f.jsx)("div",{className:"favourite-deals__deal-column",children:e.details})]}),Object(f.jsx)("button",{className:"favourite-deals__button",onClick:function(){return t=e.id,void m.a.delete("".concat(p,"/profile/favourite/deals/").concat(t),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){}));var t},children:"Remove"})]},e.id)}))]})]}):Object(f.jsx)("h2",{children:"Oops...looks like there was a problem getting the list of deals"})}),L=(a(72),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={user:null,favouriteDeals:[]},e.setFavouriteDeals=function(t){var a=t.map((function(e){return e.id}));a!==e.state.favouriteDeals&&e.setState({favouriteDeals:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("".concat(p,"/profile"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(t){e.setState({user:t.data[0]})})).catch((function(t){e.props.handleLogout()}))}},{key:"render",value:function(){return this.state.user?Object(f.jsxs)("section",{className:"user-page",children:[Object(f.jsxs)("h1",{className:"user-page__greeting",children:["Welcome ",this.state.user.name]}),Object(f.jsx)("button",{className:"user-page__logout",onClick:this.props.handleLogout,children:"Log Out"}),Object(f.jsx)(A,{}),Object(f.jsx)(I,{setFavouriteDeals:this.setFavouriteDeals}),Object(f.jsx)(D,{today:new Date})]}):Object(f.jsx)(f.Fragment,{})}}]),a}(s.Component)),E=L,M=(a(73),function(e){var t=e.user,a=n.a.useState([]),s=Object(w.a)(a,2),c=s[0],i=s[1];return n.a.useEffect((function(){m.a.get("".concat(p,"/places")).then((function(e){i(e.data)}))}),[i]),c?Object(f.jsx)("section",{className:"places",children:Object(f.jsxs)("ul",{className:"places__list",children:[Object(f.jsxs)("li",{className:"places__entry--headings",children:[Object(f.jsx)("div",{className:"places__place-column",children:"Place"}),Object(f.jsx)("div",{className:"places__cuisine-column",children:"Cuisine"})]}),c.map((function(e){return Object(f.jsxs)("li",{className:"places__entry",children:[Object(f.jsxs)(l.b,{className:"places__link",to:"/places/".concat(e.id),children:[Object(f.jsx)("div",{className:"places__place-column",children:e.name}),Object(f.jsx)("div",{className:"places__cuisine-column",children:e.cuisine})]}),t?Object(f.jsx)("button",{className:"places__button",onClick:function(){return t=e.id,void m.a.post("".concat(p,"/profile/favourite/places"),{establishment_id:t},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){})).catch((function(e){throw e}));var t},children:"Add favourite"}):Object(f.jsx)(f.Fragment,{})]},e.id)}))]})}):Object(f.jsx)("h2",{children:"Oops...looks like there was a problem getting the list of places"})}),P=(a(74),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={user:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("".concat(p,"/profile"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(t){e.setState({user:t.data[0]})}))}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(M,{user:this.state.user})})}}]),a}(s.Component)),B=P,z=(a(75),function(e){var t=e.establishment_id,a=e.user,s=e.removeButton,c=n.a.useState([]),i=Object(w.a)(c,2),r=i[0],o=i[1];return n.a.useEffect((function(){m.a.get("".concat(p,"/deals")).then((function(e){o(e.data)}))})),r?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("ul",{className:"deal-list",children:[t?Object(f.jsx)(f.Fragment,{}):Object(f.jsxs)("li",{className:"deal-list__entry--headings",children:[Object(f.jsx)("div",{className:"deal-list__place-column",children:"Place"}),Object(f.jsx)("div",{className:"deal-list__day-column",children:"Day"}),Object(f.jsx)("div",{className:"deal-list__deal-column",children:"Deal"})]}),t?r=r.filter((function(e){return e.establishment_id===t})).map((function(e){return Object(f.jsxs)("li",{className:"deal-list__entry",children:[Object(f.jsx)("div",{className:"deal-list__day-column",children:F(e.day)}),Object(f.jsx)("div",{className:"deal-list__deal-column",children:e.details}),a?Object(f.jsx)("button",{className:s?"deal-list__button--hidden":"deal-list__button",onClick:function(){return S(e.id)},children:"Add favourite"}):Object(f.jsx)(f.Fragment,{}),s?Object(f.jsx)("button",{className:"deal-list__button",onClick:function(){return t=e.id,void m.a.delete("".concat(p,"/deals/").concat(t)).then((function(e){console.log(e)}));var t},children:"Remove"}):Object(f.jsx)(f.Fragment,{})]})})):r.map((function(e){return Object(f.jsx)(l.b,{className:"deal-list__link",to:"/places/".concat(e.establishment_id),children:Object(f.jsxs)("li",{className:"deal-list__entry",children:[Object(f.jsx)("div",{className:"deal-list__place-column",children:e.name}),Object(f.jsx)("div",{className:"deal-list__day-column",children:F(e.day)}),Object(f.jsx)("div",{className:"deal-list__deal-column",children:e.details})]})})}))]})}):Object(f.jsx)("h2",{children:"Oops...looks like there was a problem getting the list of deals"})}),R=(a(76),function(e){var t=e.establishment,a={backgroundImage:"url(".concat(p,"/").concat(t.header_path,")"),backgroundSize:"cover",backgroundPosition:"center"};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"business-header",style:a}),Object(f.jsxs)("div",{className:"business-header__titles",children:[Object(f.jsxs)("h1",{className:"business-header__place-name",children:[t.name," |"]}),Object(f.jsx)("h3",{children:t.cuisine})]}),Object(f.jsxs)("div",{className:"business-header__info",children:[Object(f.jsx)("p",{children:t.phone}),Object(f.jsx)("p",{children:t.address}),Object(f.jsx)("p",{children:t.menu})]})]})}),T=(a(77),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={details:"",errorMessage:"",isError:!1},e.handleChange=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=[];if(t.target.sunday.checked&&a.push("sunday"),t.target.monday.checked&&a.push("monday"),t.target.tuesday.checked&&a.push("tuesday"),t.target.wednesday.checked&&a.push("wednesday"),t.target.thursday.checked&&a.push("thursday"),t.target.friday.checked&&a.push("friday"),t.target.saturday.checked&&a.push("saturday"),!(a=a.join("/"))||!t.target.until.value||!e.state.details)return e.setState({errorMessage:"Please fill out all fields",isError:!0}),!1;e.props.handleSubmitDeal({day:a,until:t.target.until.value,details:t.target.details.value}),e.setState({errorMessage:"",isError:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(f.jsx)("section",{className:"new-deal",children:Object(f.jsxs)("form",{className:"new-deal__form",onSubmit:this.handleSubmit,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"Add a short but detailed description of the deal you'd like to offer"}),Object(f.jsx)("textarea",{className:"new-deal__textbox",type:"textarea",resize:"false",name:"details",value:this.state.description,onChange:this.handleChange,autoFocus:!0})]}),Object(f.jsx)("p",{children:"Which day/s will your deal run"}),Object(f.jsxs)("div",{className:"new-deal__checkboxes",children:[Object(f.jsxs)("div",{className:"new-deal__checkbox",children:[Object(f.jsx)("input",{type:"checkbox",name:"monday",value:"monday"}),Object(f.jsx)("label",{for:"sunday",children:"Monday"})]}),Object(f.jsxs)("div",{className:"new-deal__checkbox",children:[Object(f.jsx)("input",{type:"checkbox",name:"tuesday",value:"tuesday"}),Object(f.jsx)("label",{for:"sunday",children:"Tuesday"})]}),Object(f.jsxs)("div",{className:"new-deal__checkbox",children:[Object(f.jsx)("input",{type:"checkbox",name:"wednesday",value:"wednesday"}),Object(f.jsx)("label",{for:"sunday",children:"Wednesday"})]}),Object(f.jsxs)("div",{className:"new-deal__checkbox",children:[Object(f.jsx)("input",{type:"checkbox",name:"thursday",value:"thursday"}),Object(f.jsx)("label",{for:"sunday",children:"Thursday"})]}),Object(f.jsxs)("div",{className:"new-deal__checkbox",children:[Object(f.jsx)("input",{type:"checkbox",name:"friday",value:"friday"}),Object(f.jsx)("label",{for:"sunday",children:"Friday"})]}),Object(f.jsxs)("div",{className:"new-deal__checkbox",children:[Object(f.jsx)("input",{type:"checkbox",name:"saturday",value:"saturday"}),Object(f.jsx)("label",{for:"sunday",children:"Saturday"})]}),Object(f.jsxs)("div",{className:"new-deal__checkbox",children:[Object(f.jsx)("input",{type:"checkbox",name:"sunday",value:"sunday"}),Object(f.jsx)("label",{for:"sunday",children:"Sunday"})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"Please select the final date your deal will run"}),Object(f.jsx)("input",{className:"new-deal__until",type:"date",name:"until",onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"new-deal__button-container",children:[Object(f.jsx)("button",{className:"new-deal__submit-button",type:"submit",children:"Add new deal"}),Object(f.jsx)("button",{className:"new-deal__cancel-button",onClick:this.props.handleCancel,children:"Cancel"})]}),this.state.isError?Object(f.jsx)("p",{children:this.state.errorMessage}):Object(f.jsx)(f.Fragment,{})]})})}}]),a}(s.Component)),W=T,H=(a(78),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={showAddDeal:!1},e.handleAddDeal=function(){e.setState({showAddDeal:!0})},e.handleSubmitDeal=function(t){var a=t.day,s=t.until,n=t.details;m.a.post("".concat(p,"/deals"),{day:a,until:s,details:n,establishment_id:e.props.establishment_id}).then((function(e){console.log(e)})),e.setState({showAddDeal:!1})},e.handleCancel=function(){e.setState({showAddDeal:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){return this.state.showAddDeal?Object(f.jsx)(W,{handleCancel:this.handleCancel,handleSubmitDeal:this.handleSubmitDeal}):Object(f.jsx)("section",{className:"business-dashboard",children:Object(f.jsx)("button",{className:"add-deal-button",onClick:this.handleAddDeal,children:"Add a new deal"})})}}]),a}(s.Component)),J=H,U=(a(79),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={user:{id:null},establishment:null,privateView:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("".concat(p,"/places/").concat(this.props.match.params.establishment_id)).then((function(t){e.setState({establishment:t.data[0]}),m.a.get("http://localhost:5000/profile",{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(t){e.setState({user:t.data[0]})}))}))}},{key:"render",value:function(){return this.state.establishment?Object(f.jsxs)("section",{className:"business-page",children:[Object(f.jsx)(R,{establishment:this.state.establishment}),Object(f.jsx)("h4",{className:"business-page__deals-header",children:"Our Deals"}),Object(f.jsx)("ul",{className:"business-page__list-headings",children:Object(f.jsxs)("li",{className:"deal-list__entry--headings",children:[Object(f.jsx)("div",{className:"deal-list__day-column",children:"Day"}),Object(f.jsx)("div",{className:"deal-list__deal-column",children:"Deal"})]})}),this.state.establishment.owner_id===this.state.user.id?Object(f.jsx)(z,{establishment_id:this.state.establishment.id,removeButton:!0}):Object(f.jsx)(z,{establishment_id:this.state.establishment.id,user:this.state.user}),this.state.establishment.owner_id===this.state.user.id?Object(f.jsx)(J,{establishment_id:this.state.establishment.id}):Object(f.jsx)(f.Fragment,{})]}):Object(f.jsx)(f.Fragment,{})}}]),a}(s.Component)),Y=U,G=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={user:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("http://localhost:5000/profile",{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(t){e.setState({user:t.data[0]})}))}},{key:"render",value:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(z,{user:this.state.user})})}}]),a}(s.Component),q=G,V=(a(80),function(){return Object(f.jsxs)("section",{className:"header",children:[Object(f.jsx)("img",{className:"header__logo",src:"".concat(p,"/Dealight-logo.png"),alt:"Main logo"}),Object(f.jsxs)("ul",{className:"header__nav-list",children:[Object(f.jsx)("li",{className:"header__nav-list-item",children:Object(f.jsx)(l.c,{to:"/",exact:!0,className:function(e){return"header__link"+(e?"--active":"")},children:"Home"})}),Object(f.jsx)("li",{className:"header__nav-list-item",children:Object(f.jsx)(l.c,{to:"/places",className:function(e){return"header__link"+(e?"--active":"")},children:"Places"})}),Object(f.jsx)("li",{className:"header__nav-list-item",children:Object(f.jsx)(l.c,{to:"/deals",exact:!0,className:function(e){return"header__link"+(e?"--active":"")},children:"Deals"})})]})]})}),K=(a(81),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={isLoggedIn:!1},e.handleLogin=function(){e.setState({isLoggedIn:!0})},e.handleLogout=function(){e.setState({isLoggedIn:!1}),sessionStorage.removeItem("token")},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("token")&&this.setState({isLoggedIn:!0})}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(V,{}),Object(f.jsxs)(h.d,{children:[Object(f.jsx)(h.b,{path:"/",exact:!0,children:this.state.isLoggedIn?Object(f.jsx)(E,{handleLogout:this.handleLogout}):Object(f.jsx)(k,{handleLogin:this.handleLogin})}),Object(f.jsx)(h.b,{path:"/places",exact:!0,children:Object(f.jsx)(B,{})}),Object(f.jsx)(h.b,{path:"/places/:establishment_id",exact:!0,component:Y}),Object(f.jsx)(h.b,{path:"/deals",children:Object(f.jsx)(q,{})})]})]})}}]),a}(s.Component)),Q=K;i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(l.a,{children:Object(f.jsx)(Q,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.593d8862.chunk.js.map